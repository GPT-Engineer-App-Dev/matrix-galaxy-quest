<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/vite.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Matrix Space Game</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      background-color: #000;
      color: #0f0;
      font-family: 'Courier New', monospace;
    }
    #game-container {
      width: 100vw;
      height: 100vh;
      position: relative;
    }
    #score {
      position: absolute;
      top: 10px;
      left: 10px;
      font-size: 20px;
    }
    #player {
      width: 40px;
      height: 40px;
      background-color: #0f0;
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
    }
    .planet {
      position: absolute;
      border-radius: 50%;
      background-color: rgba(0, 255, 0, 0.3);
      box-shadow: 0 0 10px #0f0;
    }
    .alien {
      position: absolute;
      width: 30px;
      height: 30px;
      background-color: #f00;
      clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
    }
    .matrix-bg {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      overflow: hidden;
      z-index: -1;
    }
    .matrix-column {
      position: absolute;
      top: -100%;
      width: 20px;
      font-size: 20px;
      text-align: center;
      animation: fall 20s infinite linear;
    }
    @keyframes fall {
      to {
        transform: translateY(100vh);
      }
    }
  </style>
</head>

<body>
  <div id="game-container">
    <div id="score">Score: <span id="score-value">0</span></div>
    <div id="player"></div>
  </div>
  <script>
    const gameContainer = document.getElementById('game-container');
    const player = document.getElementById('player');
    const scoreElement = document.getElementById('score-value');
    let score = 0;

    function createMatrixBackground() {
      const matrixBg = document.createElement('div');
      matrixBg.className = 'matrix-bg';
      for (let i = 0; i < 50; i++) {
        const column = document.createElement('div');
        column.className = 'matrix-column';
        column.style.left = `${Math.random() * 100}%`;
        column.style.animationDuration = `${15 + Math.random() * 10}s`;
        column.textContent = '10'.repeat(50);
        matrixBg.appendChild(column);
      }
      gameContainer.appendChild(matrixBg);
    }

    function createPlanet() {
      const planet = document.createElement('div');
      planet.className = 'planet';
      const size = Math.random() * 100 + 50;
      planet.style.width = `${size}px`;
      planet.style.height = `${size}px`;
      planet.style.left = `${Math.random() * (window.innerWidth - size)}px`;
      planet.style.top = `-${size}px`;
      gameContainer.appendChild(planet);

      const speed = Math.random() * 2 + 1;
      function movePlanet() {
        const top = planet.offsetTop;
        if (top > window.innerHeight) {
          planet.remove();
        } else {
          planet.style.top = `${top + speed}px`;
          requestAnimationFrame(movePlanet);
        }
      }
      requestAnimationFrame(movePlanet);
    }

    function createAlien() {
      const alien = document.createElement('div');
      alien.className = 'alien';
      alien.style.left = `${Math.random() * (window.innerWidth - 30)}px`;
      alien.style.top = '-30px';
      gameContainer.appendChild(alien);

      const speed = Math.random() * 3 + 2;
      function moveAlien() {
        const top = alien.offsetTop;
        if (top > window.innerHeight) {
          alien.remove();
        } else {
          alien.style.top = `${top + speed}px`;
          checkCollision(alien);
          requestAnimationFrame(moveAlien);
        }
      }
      requestAnimationFrame(moveAlien);
    }

    function checkCollision(alien) {
      const playerRect = player.getBoundingClientRect();
      const alienRect = alien.getBoundingClientRect();

      if (
        playerRect.left < alienRect.right &&
        playerRect.right > alienRect.left &&
        playerRect.top < alienRect.bottom &&
        playerRect.bottom > alienRect.top
      ) {
        alien.remove();
        score += 10;
        scoreElement.textContent = score;
      }
    }

    function movePlayer(e) {
      const x = e.clientX || e.touches[0].clientX;
      player.style.left = `${x - 20}px`;
    }

    createMatrixBackground();
    setInterval(createPlanet, 5000);
    setInterval(createAlien, 2000);

    gameContainer.addEventListener('mousemove', movePlayer);
    gameContainer.addEventListener('touchmove', movePlayer);
  </script>
</body>

</html>
